{"ast":null,"code":"import { configureStore } from '@reduxjs/toolkit';\nimport todosReducer from './todosSlice';\nconst saveLocal = state => {\n  localStorage.setItem('todos', JSON.stringify(state.todos.todos));\n  localStorage.setItem('filter', JSON.stringify(state.todos.filter));\n};\nconst localLoad = (key, value) => {\n  const item = localStorage.getItem(key);\n  if (item == null) {\n    return value;\n  }\n  return JSON.parse(item) || value;\n};\nexport const localTodos = localLoad('todos', []);\nexport const localFilter = localLoad('filter', 'all');\nconst store = configureStore({\n  reducer: {\n    todos: todosReducer\n  }\n});\nstore.subscribe(() => {\n  saveLocal(store.getState());\n});\nexport default store;","map":{"version":3,"names":["configureStore","todosReducer","saveLocal","state","localStorage","setItem","JSON","stringify","todos","filter","localLoad","key","value","item","getItem","parse","localTodos","localFilter","store","reducer","subscribe","getState"],"sources":["/home/fusion/projects/learn/todo-react/src/store/store.js"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\n\nimport todosReducer from './todosSlice';\n\nconst saveLocal = (state) => {\n  localStorage.setItem('todos', JSON.stringify(state.todos.todos))\n  localStorage.setItem('filter', JSON.stringify(state.todos.filter))\n}\n\nconst localLoad = (key, value) => {\n  const item = localStorage.getItem(key)\n  if (item == null) {\n    return value\n  }\n  return JSON.parse(item) || value\n}\n\nexport const localTodos = localLoad('todos', [])\nexport const localFilter = localLoad('filter', 'all')\n\nconst store = configureStore({\n  reducer: {\n    todos: todosReducer,\n  }\n})\n\nstore.subscribe(() => {\n  saveLocal(store.getState())\n})\n\nexport default store\n\n\n\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,kBAAkB;AAEjD,OAAOC,YAAY,MAAM,cAAc;AAEvC,MAAMC,SAAS,GAAIC,KAAK,IAAK;EAC3BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAACK,KAAK,CAACA,KAAK,CAAC,CAAC;EAChEJ,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAACK,KAAK,CAACC,MAAM,CAAC,CAAC;AACpE,CAAC;AAED,MAAMC,SAAS,GAAG,CAACC,GAAG,EAAEC,KAAK,KAAK;EAChC,MAAMC,IAAI,GAAGT,YAAY,CAACU,OAAO,CAACH,GAAG,CAAC;EACtC,IAAIE,IAAI,IAAI,IAAI,EAAE;IAChB,OAAOD,KAAK;EACd;EACA,OAAON,IAAI,CAACS,KAAK,CAACF,IAAI,CAAC,IAAID,KAAK;AAClC,CAAC;AAED,OAAO,MAAMI,UAAU,GAAGN,SAAS,CAAC,OAAO,EAAE,EAAE,CAAC;AAChD,OAAO,MAAMO,WAAW,GAAGP,SAAS,CAAC,QAAQ,EAAE,KAAK,CAAC;AAErD,MAAMQ,KAAK,GAAGlB,cAAc,CAAC;EAC3BmB,OAAO,EAAE;IACPX,KAAK,EAAEP;EACT;AACF,CAAC,CAAC;AAEFiB,KAAK,CAACE,SAAS,CAAC,MAAM;EACpBlB,SAAS,CAACgB,KAAK,CAACG,QAAQ,EAAE,CAAC;AAC7B,CAAC,CAAC;AAEF,eAAeH,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}