{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { localFilter } from \"./localStorageData\";\nimport { localTodos } from \"./localStorageData\";\nconst initialState = () => ({\n  filter: localFilter,\n  todos: localTodos\n});\nexport const todosSlice = createSlice({\n  name: 'todos',\n  initialState,\n  reducers: {\n    createTodo: (state, action) => {\n      state.todos.unshift({\n        id: uuidv4(),\n        completed: false,\n        title: action.payload\n      });\n    },\n    completeTodo: (state, action) => {\n      const index = state.todos.findIndex(todo => todo.id === action.payload);\n      console.log(state.todos[index])(state.todos)[index].completed = !state.todos[index].completed;\n      // state.todos = (state.todos).splice(index, 1, {\n      //   ...((state.todos)[index]),\n      //   completed: !((state.todos)[index].completed)\n      // }) \n\n      // state.todos.map(todo =>\n      //   todo.id === action.id ? {\n      //     ...todo,\n      //     completed: !todo.completed\n      //   } :\n      //     todo)\n    },\n\n    completeAllTodo: state => {\n      const isComplete = state.todos.every(todo => todo.completed);\n      state.todos = state.todos.map(todo => ({\n        ...todo,\n        completed: !isComplete\n      }));\n    },\n    deleteTodo: (state, action) => {},\n    deleteDoneTodo: state => {\n      state.todos = state.todos.filter(todo => todo.completed === false);\n      console.log(state.todos);\n    },\n    renameTodo: (state, action) => {},\n    setFilter: (state, action) => {\n      state.filter = action.payload;\n    }\n  }\n});\nexport const {\n  createTodo,\n  completeAllTodo,\n  completeTodo,\n  deleteTodo,\n  deleteDoneTodo,\n  renameTodo,\n  setFilter\n} = todosSlice.actions;\nexport default todosSlice.reducer;","map":{"version":3,"names":["createSlice","v4","uuidv4","localFilter","localTodos","initialState","filter","todos","todosSlice","name","reducers","createTodo","state","action","unshift","id","completed","title","payload","completeTodo","index","findIndex","todo","console","log","completeAllTodo","isComplete","every","map","deleteTodo","deleteDoneTodo","renameTodo","setFilter","actions","reducer"],"sources":["/home/fusion/projects/learn/todo-react/src/store/todosSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { localFilter } from \"./localStorageData\";\nimport { localTodos } from \"./localStorageData\";\n\nconst initialState = () => ({\n  filter: localFilter,\n  todos: localTodos,\n})\n\nexport const todosSlice = createSlice({\n  name: 'todos',\n  initialState,\n  reducers: {\n\n    createTodo: (state, action) => {\n      state.todos.unshift(\n        {\n          id: uuidv4(),\n          completed: false,\n          title: action.payload,\n        }\n      )\n    },\n\n    completeTodo: (state, action) => {\n      const index = (state.todos).findIndex(todo => todo.id === action.payload)\n      console.log((state.todos)[index])\n      (state.todos)[index].completed = !(state.todos)[index].completed\n      // state.todos = (state.todos).splice(index, 1, {\n      //   ...((state.todos)[index]),\n      //   completed: !((state.todos)[index].completed)\n      // }) \n      \n      // state.todos.map(todo =>\n      //   todo.id === action.id ? {\n      //     ...todo,\n      //     completed: !todo.completed\n      //   } :\n      //     todo)\n    },\n\n    completeAllTodo: state => {\n      const isComplete = state.todos.every((todo) => todo.completed)\n      state.todos = state.todos.map((todo) => ({\n        ...todo,\n        completed: !isComplete\n      }))\n    },\n\n    deleteTodo: (state, action) => { },\n\n    deleteDoneTodo: state => {\n      state.todos = (state.todos).filter(todo => todo.completed === false)\n      console.log(state.todos)\n    },\n\n    renameTodo: (state, action) => { },\n\n    setFilter: (state, action) => {\n      state.filter = action.payload\n    }\n\n  }\n})\n\n\nexport const {\n  createTodo,\n  completeAllTodo,\n  completeTodo,\n  deleteTodo,\n  deleteDoneTodo,\n  renameTodo,\n  setFilter\n} = todosSlice.actions\n\nexport default todosSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AACnC,SAASC,WAAW,QAAQ,oBAAoB;AAChD,SAASC,UAAU,QAAQ,oBAAoB;AAE/C,MAAMC,YAAY,GAAG,OAAO;EAC1BC,MAAM,EAAEH,WAAW;EACnBI,KAAK,EAAEH;AACT,CAAC,CAAC;AAEF,OAAO,MAAMI,UAAU,GAAGR,WAAW,CAAC;EACpCS,IAAI,EAAE,OAAO;EACbJ,YAAY;EACZK,QAAQ,EAAE;IAERC,UAAU,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC7BD,KAAK,CAACL,KAAK,CAACO,OAAO,CACjB;QACEC,EAAE,EAAEb,MAAM,EAAE;QACZc,SAAS,EAAE,KAAK;QAChBC,KAAK,EAAEJ,MAAM,CAACK;MAChB,CAAC,CACF;IACH,CAAC;IAEDC,YAAY,EAAE,CAACP,KAAK,EAAEC,MAAM,KAAK;MAC/B,MAAMO,KAAK,GAAIR,KAAK,CAACL,KAAK,CAAEc,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACP,EAAE,KAAKF,MAAM,CAACK,OAAO,CAAC;MACzEK,OAAO,CAACC,GAAG,CAAEZ,KAAK,CAACL,KAAK,CAAEa,KAAK,CAAC,CAAC,CAChCR,KAAK,CAACL,KAAK,CAAC,CAACa,KAAK,CAAC,CAACJ,SAAS,GAAG,CAAEJ,KAAK,CAACL,KAAK,CAAEa,KAAK,CAAC,CAACJ,SAAS;MAChE;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;IACF,CAAC;;IAEDS,eAAe,EAAEb,KAAK,IAAI;MACxB,MAAMc,UAAU,GAAGd,KAAK,CAACL,KAAK,CAACoB,KAAK,CAAEL,IAAI,IAAKA,IAAI,CAACN,SAAS,CAAC;MAC9DJ,KAAK,CAACL,KAAK,GAAGK,KAAK,CAACL,KAAK,CAACqB,GAAG,CAAEN,IAAI,KAAM;QACvC,GAAGA,IAAI;QACPN,SAAS,EAAE,CAACU;MACd,CAAC,CAAC,CAAC;IACL,CAAC;IAEDG,UAAU,EAAE,CAACjB,KAAK,EAAEC,MAAM,KAAK,CAAE,CAAC;IAElCiB,cAAc,EAAElB,KAAK,IAAI;MACvBA,KAAK,CAACL,KAAK,GAAIK,KAAK,CAACL,KAAK,CAAED,MAAM,CAACgB,IAAI,IAAIA,IAAI,CAACN,SAAS,KAAK,KAAK,CAAC;MACpEO,OAAO,CAACC,GAAG,CAACZ,KAAK,CAACL,KAAK,CAAC;IAC1B,CAAC;IAEDwB,UAAU,EAAE,CAACnB,KAAK,EAAEC,MAAM,KAAK,CAAE,CAAC;IAElCmB,SAAS,EAAE,CAACpB,KAAK,EAAEC,MAAM,KAAK;MAC5BD,KAAK,CAACN,MAAM,GAAGO,MAAM,CAACK,OAAO;IAC/B;EAEF;AACF,CAAC,CAAC;AAGF,OAAO,MAAM;EACXP,UAAU;EACVc,eAAe;EACfN,YAAY;EACZU,UAAU;EACVC,cAAc;EACdC,UAAU;EACVC;AACF,CAAC,GAAGxB,UAAU,CAACyB,OAAO;AAEtB,eAAezB,UAAU,CAAC0B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}