{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { v4 as uuidv4 } from 'uuid';\nconst initialState = () => ({\n  filters: localStorage.getItem('filter'),\n  todos: localStorage.getItem('todos')\n});\nconst localLoad = (key, value) => {\n  const item = localStorage.getItem(key);\n  if (item == undefined) {\n    return value;\n  }\n  return JSON.parse(item);\n};\nconst localTodos = localLoad('todos', []);\nconst localFilter = localLoad('filter', 'all');\nlocalStorage.setItem('todos', JSON.stringify(initialState.todos));\nlocalStorage.setItem('filter', JSON.stringify(initialState.filter));\nexport const todosSlice = createSlice({\n  name: 'todos',\n  initialState,\n  reducers: {\n    createTodo: (state, action) => {\n      state.todos.push({\n        id: uuidv4(),\n        title: action.payload,\n        completed: false\n      });\n    },\n    completeTodo: (state, action) => {\n      state.todos.map(todo => todo.id === action.id ? {\n        ...todo,\n        completed: !todo.completed\n      } : todo);\n    },\n    completeAllTodo: state => {\n      const isComplete = state.todos.every(todo => todo.completed);\n      state.todos = state.todos.map(todo => ({\n        ...todo,\n        completed: !isComplete\n      }));\n    },\n    deleteTodo: (state, action) => {},\n    deleteDoneTodo: state => {\n      state.todos.filter(todo => todo.completed === true);\n    },\n    renameTodo: (state, action) => {}\n  }\n});\nexport const {\n  createTodo,\n  completeAllTodo,\n  completeTodo,\n  deleteTodo,\n  deleteDoneTodo,\n  renameTodo\n} = todosSlice.actions;\nexport default todosSlice.reducer;","map":{"version":3,"names":["createSlice","v4","uuidv4","initialState","filters","localStorage","getItem","todos","localLoad","key","value","item","undefined","JSON","parse","localTodos","localFilter","setItem","stringify","filter","todosSlice","name","reducers","createTodo","state","action","push","id","title","payload","completed","completeTodo","map","todo","completeAllTodo","isComplete","every","deleteTodo","deleteDoneTodo","renameTodo","actions","reducer"],"sources":["/home/fusion/projects/learn/todo-react/src/store/todosSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { v4 as uuidv4 } from 'uuid';\n\nconst initialState = () => ({\n  filters: localStorage.getItem('filter'),\n  todos: localStorage.getItem('todos'),\n})\nconst localLoad = (key, value) => {\n  const item = localStorage.getItem(key)\n  if (item == undefined) {\n    return value\n  }\n  return JSON.parse(item)\n}\n\nconst localTodos = localLoad('todos', [])\nconst localFilter = localLoad('filter', 'all')\n\nlocalStorage.setItem('todos', JSON.stringify(initialState.todos));\nlocalStorage.setItem('filter', JSON.stringify(initialState.filter));\n\nexport const todosSlice = createSlice({\n  name: 'todos',\n  initialState,\n  reducers: {\n\n    createTodo: (state, action) => {\n      state.todos.push(\n        {\n          id: uuidv4(),\n          title: action.payload,\n          completed: false\n        }\n      )\n    },\n\n    completeTodo: (state, action) => {\n      state.todos.map(todo =>\n        todo.id === action.id ? {\n          ...todo,\n          completed: !todo.completed\n        } :\n          todo)\n    },\n\n    completeAllTodo: state => {\n      const isComplete = state.todos.every((todo) => todo.completed)\n      state.todos = state.todos.map((todo) => ({\n        ...todo,\n        completed: !isComplete\n      }))\n    },\n\n    deleteTodo: (state, action) => { },\n\n    deleteDoneTodo: state => {\n      state.todos.filter(todo => todo.completed === true)\n    },\n\n    renameTodo: (state, action) => { },\n\n  }\n})\n\nexport const { createTodo, completeAllTodo, completeTodo, deleteTodo, deleteDoneTodo, renameTodo } = todosSlice.actions\n\nexport default todosSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AAEnC,MAAMC,YAAY,GAAG,OAAO;EAC1BC,OAAO,EAAEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EACvCC,KAAK,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO;AACrC,CAAC,CAAC;AACF,MAAME,SAAS,GAAG,CAACC,GAAG,EAAEC,KAAK,KAAK;EAChC,MAAMC,IAAI,GAAGN,YAAY,CAACC,OAAO,CAACG,GAAG,CAAC;EACtC,IAAIE,IAAI,IAAIC,SAAS,EAAE;IACrB,OAAOF,KAAK;EACd;EACA,OAAOG,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC;AACzB,CAAC;AAED,MAAMI,UAAU,GAAGP,SAAS,CAAC,OAAO,EAAE,EAAE,CAAC;AACzC,MAAMQ,WAAW,GAAGR,SAAS,CAAC,QAAQ,EAAE,KAAK,CAAC;AAE9CH,YAAY,CAACY,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACK,SAAS,CAACf,YAAY,CAACI,KAAK,CAAC,CAAC;AACjEF,YAAY,CAACY,OAAO,CAAC,QAAQ,EAAEJ,IAAI,CAACK,SAAS,CAACf,YAAY,CAACgB,MAAM,CAAC,CAAC;AAEnE,OAAO,MAAMC,UAAU,GAAGpB,WAAW,CAAC;EACpCqB,IAAI,EAAE,OAAO;EACblB,YAAY;EACZmB,QAAQ,EAAE;IAERC,UAAU,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC7BD,KAAK,CAACjB,KAAK,CAACmB,IAAI,CACd;QACEC,EAAE,EAAEzB,MAAM,EAAE;QACZ0B,KAAK,EAAEH,MAAM,CAACI,OAAO;QACrBC,SAAS,EAAE;MACb,CAAC,CACF;IACH,CAAC;IAEDC,YAAY,EAAE,CAACP,KAAK,EAAEC,MAAM,KAAK;MAC/BD,KAAK,CAACjB,KAAK,CAACyB,GAAG,CAACC,IAAI,IAClBA,IAAI,CAACN,EAAE,KAAKF,MAAM,CAACE,EAAE,GAAG;QACtB,GAAGM,IAAI;QACPH,SAAS,EAAE,CAACG,IAAI,CAACH;MACnB,CAAC,GACCG,IAAI,CAAC;IACX,CAAC;IAEDC,eAAe,EAAEV,KAAK,IAAI;MACxB,MAAMW,UAAU,GAAGX,KAAK,CAACjB,KAAK,CAAC6B,KAAK,CAAEH,IAAI,IAAKA,IAAI,CAACH,SAAS,CAAC;MAC9DN,KAAK,CAACjB,KAAK,GAAGiB,KAAK,CAACjB,KAAK,CAACyB,GAAG,CAAEC,IAAI,KAAM;QACvC,GAAGA,IAAI;QACPH,SAAS,EAAE,CAACK;MACd,CAAC,CAAC,CAAC;IACL,CAAC;IAEDE,UAAU,EAAE,CAACb,KAAK,EAAEC,MAAM,KAAK,CAAE,CAAC;IAElCa,cAAc,EAAEd,KAAK,IAAI;MACvBA,KAAK,CAACjB,KAAK,CAACY,MAAM,CAACc,IAAI,IAAIA,IAAI,CAACH,SAAS,KAAK,IAAI,CAAC;IACrD,CAAC;IAEDS,UAAU,EAAE,CAACf,KAAK,EAAEC,MAAM,KAAK,CAAE;EAEnC;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEF,UAAU;EAAEW,eAAe;EAAEH,YAAY;EAAEM,UAAU;EAAEC,cAAc;EAAEC;AAAW,CAAC,GAAGnB,UAAU,CAACoB,OAAO;AAEvH,eAAepB,UAAU,CAACqB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}